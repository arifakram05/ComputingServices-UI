<md-list class="computingSerivces topPadding60" ng-cloak>
    <md-toolbar class="md-primary">
        <div class="toolbar">
            <div class="md-toolbar-tools">
                <h2 class="md-flex">Manage Roles and Privileges</h2>
            </div>
        </div>
    </md-toolbar>

    <div layout="row">

        <!--ROLES SPACE-->
        <md-content class="md-padding" ng-style="{'width': '30%'}">
            <md-list-item ng-repeat="role in roles" ng-click="selectRole(role);changeTab(role);" ng-class="{selected : role.roleName === selRoleToShow.roleName}">
                <span ng-bind="role.roleName"></span>
                <md-divider></md-divider>
            </md-list-item>
            <md-input-container flex="5"></md-input-container>
        </md-content>

        <!--PRIVILEGES SPACE-->
        <md-content class="md-padding" ng-style="{'width': '70%'}" ng-if="canShowPrivs === true">
            <div layout="row" ng-style="{'height':'40px'}">
                <p class="col-xs-8" ng-style="{'font-size':'18px'}">
                    Showing privileges for the role - <b>{{selRoleToShow.roleName}}</b>
                </p>
                <md-input-container flex="50" ng-if="editingRole">
                    <input name="roleName" type="text" ng-model="selRoleToShow.roleName" required>
                </md-input-container>
                <div layout="row" layout-align="end" flex>
                    <button class="btn btn-info" ng-if="!editingRole" ng-disabled="!canEditPrivileges && !canCreateRole" ng-click="editRoleName(selRoleToShow)">
                        <i class="fa fa-pencil fa-lg"></i>
                        <md-tooltip>Edit Role Names</md-tooltip>
                    </button>

                    <button class="btn btn-default" ng-if="editingRole" ng-click="cancelRoleNameEdit(selRoleToShow)">
                        <i class="fa fa-times fa-lg"></i>
                        <md-tooltip>Cancel Role Name</md-tooltip>
                    </button>

                    <md-input-container flex="1"></md-input-container>

                    <button class="btn btn-default" ng-click="resetPrivs(selRoleToShow)">
                        <i class="fa fa-ban fa-lg"></i>
                        <md-tooltip>Reset Privileges</md-tooltip>
                    </button>

                    <md-input-container flex="1"></md-input-container>

                    <button class="btn btn-warning" ng-if="creatingRole === false" ng-disabled="!canEditPrivileges" ng-click="updateRole(selRoleToShow)">
                        <i class="fa fa-wrench fa-lg"></i>
                        <md-tooltip>Update Role and Privileges</md-tooltip>
                    </button>

                    <md-input-container flex="1"></md-input-container>

                    <button class="btn btn-success" ng-disabled="!canCreateRole" ng-if="creatingRole === true" ng-click="saveRole(selRoleToShow)">
                        <i class="fa fa-floppy-o fa-lg"></i>
                        <md-tooltip>Save Role</md-tooltip>
                    </button>

                    <md-input-container flex="1"></md-input-container>

                    <button class="btn btn-primary" ng-disabled="!canCreateRole" ng-if="creatingRole === false" ng-click="createRole()">
                        <i class="fa fa-plus fa-lg"></i>
                        <md-tooltip>Create Role</md-tooltip>
                    </button>

                    <md-input-container flex="1"></md-input-container>

                    <button class="btn btn-danger" ng-disabled="!canDeleteRole" ng-if="creatingRole === false" ng-click="deleteRole(selRoleToShow)">
                        <i class="fa fa-trash-o fa-lg"></i>
                        <md-tooltip>Delete Role</md-tooltip>
                    </button>
                </div>
            </div>

            <md-input-container flex="1"></md-input-container>

            <div layout="row">
                <div layout="column" ng-style="{'width': '40%'}">
                    <p ng-style="{'font-size':'16px'}">Available Privileges</p>
                    <select size="10" multiple ng-model="selRoleToShow.available" ng-options="priv as priv.description for priv in selRoleToShow.availablePrivs"></select>
                </div>

                <md-input-container flex="5"></md-input-container>

                <div ng-style="{'width': '15%'}" layout="column">
                    <md-input-container flex="10"></md-input-container>

                    <button class="btn btn-primary" ng-disabled="!canEditPrivileges && !canCreateRole" ng-click="moveItem(selRoleToShow.available, selRoleToShow.availablePrivs, selRoleToShow.assignedPrivs)">
                        <i class="fa fa-arrow-right fa-lg" aria-label="add priv"></i>
                        <md-tooltip>Add Privilege</md-tooltip>
                    </button>

                    <md-input-container flex="5"></md-input-container>

                    <button class="btn btn-danger" ng-disabled="!canEditPrivileges && !canCreateRole" ng-click="moveItem(selRoleToShow.selected, selRoleToShow.assignedPrivs, selRoleToShow.availablePrivs)">
                        <i class="fa fa-arrow-left fa-lg" aria-label="remove priv"></i>
                        <md-tooltip>Remove Privilege</md-tooltip>
                    </button>
                </div>

                <md-input-container flex="5"></md-input-container>

                <div layout="column" ng-style="{'width': '40%'}">
                    <p ng-style="{'font-size':'16px'}">Assigned Privileges</p>
                    <select size="10" multiple ng-model="selRoleToShow.selected" ng-options="priv as priv.description for priv in selRoleToShow.assignedPrivs"></select>
                </div>
            </div>
        </md-content>
    </div>
</md-list>
